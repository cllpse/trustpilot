$logo-size: 48px;
$logo-color: #f99d29;
$logo-checkmark-color: #000;
$logo-highlight-color: #fff;


/* TRUSTPILOT COLOR-SCHEME
$ratings-star-size: 48px;
$ratings-star-bg-color: #d8d9d9;
$ratings-star-bg-on-color: #f47324;
$ratings-star-color: #fff; */

$ratings-star-size: 48px;
$ratings-star-bg-color: #d8d9d9;
$ratings-star-bg-on-color: #35d888;
$ratings-star-color: #fff;


@mixin ratings-star-on
{
    background-color: $ratings-star-bg-on-color;
    @include background(linear-gradient($ratings-star-bg-on-color, darken($ratings-star-bg-on-color, 8%)));
}

@mixin ratings-star-off
{
    background-color: $ratings-star-bg-color;
    @include background(linear-gradient($ratings-star-bg-color, darken($ratings-star-bg-color, 8%)));
}

@mixin ratings-size($n)
{
    width: $n;
    height: $n;
    margin-left: ceil($n / 10);
    font-size: ceil($n * 0.7);
    line-height: $n;
}

@mixin ratings-font-size-firefox($n)
{
	font-size: ceil($n * 1.3);
}

@mixin ratings-font-size-internet-explorer($n)
{
	font-size: ceil($n * 0.85);
}


.scope-trustpilot
{
	div.ratings
	{
	    font-size: 0;
	    letter-spacing: 0;

	    &.rating-1
	    {
	        figure:first-child { @include ratings-star-on; }
	    }

	    &.rating-2
	    {
	        figure { @include ratings-star-on; }
	        figure + figure + figure { @include ratings-star-off; }
	    }

	    &.rating-3
	    {
	        figure { @include ratings-star-on; }
	        figure + figure + figure + figure { @include ratings-star-off; }
	    }

	    &.rating-4
	    {
	        figure { @include ratings-star-on; }
	        figure + figure + figure + figure + figure { @include ratings-star-off; }
	    }

	    &.rating-5
	    {
	        figure { @include ratings-star-on; }
	    }

	    &.ratings-transparent > figure
	    {
	    	background: transparent;
	    	background-color: transparent;
	    }

	    &.ratings-size-small > figure
	    {
    		@include ratings-size(18px);
	    }

	    &.ratings-size-medium > figure
	    {
    		@include ratings-size(30px);
	    }

	    &.ratings-size-large > figure
	    {
    		@include ratings-size(48px);
	    }

	    figure
	    {
	    	display: inline-block;
	        margin: 0;

	        @include ratings-size(48px);

	        border-radius: 12%;
	        text-align: center;

	        @include ratings-star-off;
	        color: $ratings-star-color;

	        &:first-child
	        {
	            margin-left: 0;
	        }
	    }
	}

	div.logo
	{
	    display: block;

	    figure
	    {
	        margin: 0;
	    }

	    a
	    {
	        display: inline-block;
	        overflow: hidden;
	        position: relative;

	        width: 100%;
	        height: 100%;

	        background-color: $logo-color;

	        &:before
	        {
	            content: "";
	            position: absolute;
	            display: block;
	            opacity: 0.4;

	            width: 250%;
	            height: 200%;
	            top: -161%;
	            left: -75%;

	            border-radius: 100%;

	            background-color: $logo-highlight-color;
	            @include radial-gradient(circle at 50% 65%, $logo-color 0%, $logo-highlight-color 50%);
	        }

	        figure:first-child
	        {
	            content: "";
	            position: absolute;
	            display: block;

	            width: 163%;
	            height: 93%;
	            bottom: -42%;
	            left: -87%;

	            @include transform(rotate(38deg));

	            border-radius: 100%;

	            background-color: $logo-checkmark-color;
	            @include radial-gradient(circle at 100% 100%, $logo-checkmark-color 40%, lighten($logo-checkmark-color, 40%) 100%);

	            &:before
	            {
	                content: "";
	                position: absolute;
	                display: block;

	                width: 70%;
	                height: 93%;
	                left: 32%;
	                bottom: -14%;
	                @include transform(rotate(-16deg));

	                border-radius: 100%;

	                background-color: $logo-color;
	                @include background(linear-gradient($logo-color, darken($logo-color, 15%)));
	            }

	        }

	        figure:last-child
	        {
	            content: "";
	            position: absolute;
	            display: block;

	            width: 106%;
	            height: 178%;
	            bottom: -69%;
	            right: -60%;

	            @include transform(rotate(16deg));

	            border-radius: 100%;

	            background-color: $logo-checkmark-color;
	            @include radial-gradient(circle at 50% 100%, $logo-checkmark-color 40%, lighten($logo-checkmark-color, 40%) 100%);

	            &:before
	            {
	                content: "";
	                position: absolute;
	                display: block;

	                width: 93%;
	                height: 94%;
	                left: 11%;
	                bottom: -18%;

	                border-radius: 100%;

	                background-color: $logo-color;
	                @include background(linear-gradient($logo-color, darken($logo-color, 15%)));
	            }
	        }
	    }
	}

	div.logo-alt
	{
	    figure
	    {
	        margin: 0;
	    }

	    a
	    {
	        display: inline-block;
	        overflow: hidden;
	        position: relative;

	        width: 100%;
	        height: 100%;

	        background-color: $logo-color;

	        &:before
	        {
	            content: "";
	            position: absolute;
	            display: block;
	            opacity: 1;

	            width: 250%;
	            height: 200%;
	            top: -161%;
	            left: -75%;

	            border-radius: 100%;

	            background-color: $logo-highlight-color;
	            @include radial-gradient(circle at 50% 50%, $logo-color 40%, $logo-highlight-color 100%);
	        }

	        figure:before
	        {
	            content: "";
	            position: absolute;
	            display: block;

	            width: 163%;
	            height: 93%;
	            bottom: -42%;
	            left: -87%;
	            @include transform(rotate(38deg));

	            border-radius: 100%;

	            background-color: $logo-checkmark-color;
	            @include radial-gradient(circle at 72% 101%, $logo-color 0%, $logo-color 50%, $logo-checkmark-color 50%, lighten($logo-checkmark-color, 50%) 100%);
	        }

	        figure:after
	        {
	            content: "";
	            position: absolute;
	            display: block;

	            width: 106%;
	            height: 178%;
	            bottom: -69%;
	            right: -60%;
	            @include transform(rotate(16deg));

	            border-radius: 100%;

	            background-color: $logo-checkmark-color;
	            @include radial-gradient(circle at 74% 59%, $logo-color 0%, $logo-color 50%, $logo-checkmark-color 50%, lighten($logo-checkmark-color, 50%) 100%);
	        }
	    }
	}
}


@-moz-document url-prefix() /* target all versions of Firefox */
{
    .scope-trustpilot div.ratings
    {
    	&.ratings-size-small > figure
		{
			@include ratings-font-size-firefox(18px);
		}

    	&.ratings-size-medium > figure
		{
			@include ratings-font-size-firefox(30px);
		}

		&.ratings-size-large > figure
		{
			@include ratings-font-size-firefox(48px);
		}

		figure
		{
			@include ratings-font-size-firefox(48px);
		}
    }
}


@media screen\0 /* target all versions of Internet Explorer */
{
    .scope-trustpilot div.ratings
    {
    	&.ratings-size-medium > figure
		{
			@include ratings-font-size-internet-explorer(18px);
		}

    	&.ratings-size-medium > figure
		{
			@include ratings-font-size-internet-explorer(30px);
		}

		&.ratings-size-large > figure
		{
			@include ratings-font-size-internet-explorer(48px);
		}

		figure
		{
			@include ratings-font-size-internet-explorer(48px);
		}
    }
}
